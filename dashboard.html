<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ToolNest Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@keyframes fadeIn {0%{opacity:0}100%{opacity:1}}
.animate-fadeIn {animation:fadeIn 0.5s ease-in;}
</style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- Dashboard Container -->
<main id="dashboardContainer" class="max-w-7xl mx-auto p-6 space-y-12 flex-1">
</main>

<!-- Toast Container -->
<div id="toastContainer" class="fixed top-5 right-5 z-50"></div>

<!-- Logout Button (fixed bottom) -->
<button id="logoutBtn" class="fixed bottom-4 right-4 px-6 py-3 bg-red-500 text-white rounded-lg shadow-lg hover:bg-red-600 transition">
  Logout
</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBuYXfr-_q-BJskWHN4chB8SZqMc-P9odw",
  authDomain: "toolnest-8e42d.firebaseapp.com",
  projectId: "toolnest-8e42d",
  storageBucket: "toolnest-8e42d.firebasestorage.app",
  messagingSenderId: "988256036107",
  appId: "1:988256036107:web:90f7e40f07593dff8e2e0e"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Toast function
const toastContainer = document.getElementById('toastContainer');
function showToast(message,type="success"){
  const toast = document.createElement('div');
  toast.innerText = message;
  toast.className = `px-4 py-2 mb-2 rounded shadow-lg text-white ${type==="success"?"bg-green-500":"bg-red-500"} animate-fadeIn`;
  toastContainer.appendChild(toast);
  setTimeout(()=>toast.remove(),3000);
}

// Tools JSON
const toolsData = [
  { category: "Finance & Accounting Tools", tools: ["ROI Calculator","Profit Margin Calculator","Break-even Point Analyzer","Loan EMI Calculator","Tax / GST / VAT Calculator","Currency Converter","Expense Tracker","Cash Flow Analyzer","Salary / Payroll Sheet"] },
  { category: "Business Management Tools", tools: ["Revenue Forecast Tool","Budget Planner","Employee Attendance Tracker","Invoice Generator","Business Proposal Template","Time Tracking Tool","Meeting Notes Template"] },
  { category: "E-commerce & Marketing Tools", tools: ["Product Pricing Calculator","Discount Finder","Inventory Tracker","Keyword Research Tool","Competitor Tracker","Profit & Fee Calculator","Product Launch Planner"] },
  { category: "Data & Productivity Tools", tools: ["Google Sheets Templates","Excel Business Templates","CSV â†’ Excel Converter","Sheet Merger Tool","Data Cleaner","Dashboard Template for Reporting"] },
  { category: "AI & Automation Tools", tools: ["ChatGPT Assistant","Gemini UI","Auto Email Generator","Task Automation Templates","AI Name / Slogan Generator","Document Summarizer"] },
  { category: "Design & Branding Tools", tools: ["Logo Maker","Business Card Template","Brand Color Palette Generator","Social Media Post Caption Generator"] },
  { category: "Website & SEO Tools", tools: ["Meta Tag Generator","SEO Keyword Density Checker","Backlink Tracker","Sitemap XML Generator","Page Speed Tester"] },
  { category: "Communication & Management", tools: ["Project Task Manager","Team Chat UI","Client Feedback Form","Email Signature Generator"] },
  { category: "Upcoming / Premium Tools", tools: ["MarketNest Pro Analyzer","Business Intelligence Dashboard","AI Data Visualizer","Multi-user Team Workspace"] }
];

// Generate dashboard
const dashboardContainer = document.getElementById('dashboardContainer');
toolsData.forEach(cat=>{
  const section = document.createElement('section');
  section.className="space-y-4";

  const heading = document.createElement('h2');
  heading.className="text-2xl font-bold text-gray-700";
  heading.innerText = cat.category;
  section.appendChild(heading);

  const grid = document.createElement('div');
  grid.className="grid md:grid-cols-3 gap-6";

  cat.tools.forEach(tool=>{
    const card = document.createElement('div');
    card.className="bg-white p-4 rounded-xl shadow hover:shadow-lg cursor-pointer transition duration-200";
    card.innerHTML=`<h3 class="font-semibold text-lg">${tool}</h3>`;
    grid.appendChild(card);
  });

  section.appendChild(grid);
  dashboardContainer.appendChild(section);
});

// Logout
const logoutBtn = document.getElementById('logoutBtn');
logoutBtn.onclick = async ()=>{
  try{
    await signOut(auth);
    showToast("Logged out successfully!");
    window.location.href="index.html"; // redirect to login page
  }catch(e){
    showToast(e.message,"error");
  }
}

// Auth state check
onAuthStateChanged(auth,user=>{
  if(!user){
    window.location.href="index.html";
  }
});
</script>
</body>
</html>
