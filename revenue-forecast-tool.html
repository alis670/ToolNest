<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Revenue Forecast Tool</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
  body { background: linear-gradient(to bottom right, #eef2ff, #fdf2f8); font-family: 'Inter', sans-serif; }
  .card { background: white; border-radius: 1rem; box-shadow: 0 4px 20px rgba(0,0,0,0.05); padding: 1.5rem; }
  .btn { transition: all 0.2s ease; }
  .btn:hover { transform: translateY(-2px); box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
</style>
</head>
<body class="text-gray-900">

<div class="max-w-6xl mx-auto p-6 space-y-6">
  <!-- Header -->
  <div class="text-center">
    <h1 class="text-4xl font-bold text-indigo-700">ðŸ“Š Revenue Forecast Tool</h1>
    <p class="text-gray-500">Predict your monthly revenue growth and visualize future performance.</p>
  </div>

  <!-- Input Card -->
  <div class="card">
    <h2 class="text-lg font-semibold mb-4">Enter Forecast Details</h2>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <input id="currentRevenue" type="number" placeholder="Current Revenue ($)" class="border p-2 rounded-md focus:ring-2 focus:ring-indigo-500">
      <input id="growthRate" type="number" placeholder="Growth Rate (% per month)" class="border p-2 rounded-md focus:ring-2 focus:ring-indigo-500">
      <input id="months" type="number" placeholder="Forecast Duration (months)" class="border p-2 rounded-md focus:ring-2 focus:ring-indigo-500">
      <button onclick="generateForecast()" class="bg-indigo-600 text-white px-4 py-2 rounded-md btn">Generate</button>
    </div>
  </div>

  <!-- Chart -->
  <div class="card">
    <h2 class="text-lg font-semibold mb-4 text-gray-700">ðŸ“ˆ Forecast Chart</h2>
    <canvas id="forecastChart" height="100"></canvas>
  </div>

  <!-- Summary -->
  <div id="summaryCard" class="card hidden">
    <h2 class="text-lg font-semibold mb-4 text-gray-700">Summary</h2>
    <p class="text-gray-700" id="summaryText"></p>
    <div class="mt-4">
      <button onclick="exportForecastPDF()" class="bg-red-600 text-white px-4 py-2 rounded-md btn">ðŸ“„ Export as PDF</button>
    </div>
  </div>
</div>

<script>
let chart;

function generateForecast() {
  const currentRevenue = parseFloat(document.getElementById('currentRevenue').value);
  const growthRate = parseFloat(document.getElementById('growthRate').value);
  const months = parseInt(document.getElementById('months').value);

  if (isNaN(currentRevenue) || isNaN(growthRate) || isNaN(months)) {
    return alert('Please fill all fields correctly!');
  }

  const labels = [];
  const data = [];
  let revenue = currentRevenue;

  for (let i = 1; i <= months; i++) {
    revenue *= (1 + growthRate / 100);
    labels.push("Month " + i);
    data.push(revenue.toFixed(2));
  }

  if (chart) chart.destroy();

  const ctx = document.getElementById('forecastChart').getContext('2d');
  chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels,
      datasets: [{
        label: 'Projected Revenue ($)',
        data,
        fill: true,
        borderColor: '#4f46e5',
        backgroundColor: 'rgba(99, 102, 241, 0.2)',
        tension: 0.3,
      }]
    },
    options: {
      plugins: { legend: { display: true } },
      scales: { y: { beginAtZero: false } }
    }
  });

  const totalGrowth = ((revenue - currentRevenue) / currentRevenue * 100).toFixed(2);
  document.getElementById('summaryCard').classList.remove('hidden');
  document.getElementById('summaryText').innerHTML = `
    Starting Revenue: <b>$${currentRevenue.toFixed(2)}</b><br>
    Final Forecasted Revenue after ${months} months: <b>$${revenue.toFixed(2)}</b><br>
    Total Growth: <b>${totalGrowth}%</b>
  `;
}

async function exportForecastPDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  doc.text("Revenue Forecast Report", 14, 10);
  const summary = document.getElementById('summaryText').innerText;
  doc.text(summary, 14, 25);
  doc.save("RevenueForecast.pdf");
}
</script>
</body>
</html>
