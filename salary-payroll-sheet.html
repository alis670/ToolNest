<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Salary Payroll Sheet â€” Pro SaaS Model</title>

<style>
:root{
  --bg:#f6f8fb; --card:#fff; --muted:#6b7280; --accent:#2563eb;
  --success:#10b981; --danger:#ef4444; --radius:10px;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:#0f172a;padding:18px}
.app{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 360px;gap:16px;align-items:start}
.card{background:var(--card);border-radius:var(--radius);padding:16px;box-shadow:0 10px 30px rgba(2,6,23,0.06)}
h1,h3,h4{margin-bottom:8px}
h1{font-size:20px}
label{display:block;margin-bottom:4px;font-weight:600;font-size:14px}
input,select,button{font-family:inherit;font-size:14px}
input,select{padding:8px;border-radius:8px;border:1px solid #e6eef8;background:#fff;width:100%}
button{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
.btn.primary{background:var(--accent);color:#fff}
.btn.ghost{background:#f1f5f9;border:1px solid #e6eef8}
.btn.danger{background:var(--danger);color:#fff}
.kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-bottom:12px}
.kpi{background:#fbfdff;padding:12px;border-radius:8px;text-align:center}
.kpi h4{font-size:13px;margin-bottom:4px}
.kpi p{font-weight:800;font-size:16px}
.table{margin-top:12px;overflow:auto;border-radius:8px;border:1px solid #eef2ff}
table{width:100%;border-collapse:collapse;font-size:14px}
th,td{padding:8px;border-bottom:1px solid #f1f5f9;text-align:left}
th{background:#fbfdff;position:sticky;top:0}
.flex-end{display:flex;align-items:end;gap:8px;flex-wrap:wrap}
@media(max-width:1000px){.app{grid-template-columns:1fr}.kpis{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}}
</style>
</head>
<body>

<div class="app">

  <!-- MAIN -->
  <div class="card">
    <h1>Salary Payroll Sheet</h1>

    <!-- KPIs -->
    <div class="kpis">
      <div class="kpi"><h4>Total Employees</h4><p id="totalEmployees">0</p></div>
      <div class="kpi"><h4>Total Payroll</h4><p id="totalPayroll">0</p></div>
      <div class="kpi"><h4>Total Deductions</h4><p id="totalDeductions">0</p></div>
      <div class="kpi"><h4>Total Net Salary</h4><p id="totalNet">0</p></div>
    </div>

    <!-- SALARY FORM -->
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px;align-items:end">
      <div>
        <label>Employee Name</label>
        <input id="employeeName" placeholder="e.g. John Doe">
      </div>

      <div>
        <label>Basic Salary</label>
        <input id="basicSalary" type="number" min="0" step="0.01">
      </div>

      <div>
        <label>Allowances</label>
        <input id="allowances" type="number" min="0" step="0.01">
      </div>

      <div>
        <label>Deductions</label>
        <input id="deductions" type="number" min="0" step="0.01">
      </div>

      <div>
        <label>Net Salary</label>
        <input id="netSalary" type="number" readonly>
      </div>

      <div class="flex-end">
        <button id="addSalary" class="btn primary">Add</button>
        <button id="clearSalary" class="btn ghost">Clear</button>
      </div>
    </div>

    <!-- SALARY TABLE -->
    <div class="table">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Employee Name</th>
            <th>Basic Salary</th>
            <th>Allowances</th>
            <th>Deductions</th>
            <th>Net Salary</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="salaryTbody"></tbody>
      </table>
    </div>
  </div>

  <!-- SIDEBAR: QUICK FILTERS / ALERTS -->
  <div class="card" style="display:flex;flex-direction:column;gap:12px;">
    <h3>Recent Entries</h3>
    <div id="recentEntries" class="audit" style="max-height:400px;overflow:auto;"></div>
  </div>

</div>

<script>
let salaries = [];

function calculateNet() {
  const basic = parseFloat(document.getElementById('basicSalary').value)||0;
  const allowances = parseFloat(document.getElementById('allowances').value)||0;
  const deductions = parseFloat(document.getElementById('deductions').value)||0;
  const net = basic + allowances - deductions;
  document.getElementById('netSalary').value = net.toFixed(2);
  return net;
}

document.getElementById('basicSalary').addEventListener('input', calculateNet);
document.getElementById('allowances').addEventListener('input', calculateNet);
document.getElementById('deductions').addEventListener('input', calculateNet);

document.getElementById('addSalary').addEventListener('click', ()=>{
  const name = document.getElementById('employeeName').value.trim();
  const basic = parseFloat(document.getElementById('basicSalary').value)||0;
  const allowances = parseFloat(document.getElementById('allowances').value)||0;
  const deductions = parseFloat(document.getElementById('deductions').value)||0;
  const net = calculateNet();
  if(!name){ alert('Enter employee name'); return; }

  const id = 'sal_'+Date.now();
  salaries.push({id,name,basic,allowances,deductions,net});
  renderTable();
  renderKPIs();
  document.getElementById('employeeName').value='';
  document.getElementById('basicSalary').value='';
  document.getElementById('allowances').value='';
  document.getElementById('deductions').value='';
  document.getElementById('netSalary').value='';
});

function renderTable(){
  const tbody = document.getElementById('salaryTbody');
  tbody.innerHTML = salaries.map((s,i)=>`
    <tr>
      <td>${i+1}</td>
      <td>${s.name}</td>
      <td>${s.basic.toFixed(2)}</td>
      <td>${s.allowances.toFixed(2)}</td>
      <td>${s.deductions.toFixed(2)}</td>
      <td>${s.net.toFixed(2)}</td>
      <td>
        <button onclick="deleteSalary('${s.id}')" class="btn danger">Delete</button>
      </td>
    </tr>
  `).join('');
  renderRecent();
}

function deleteSalary(id){
  salaries = salaries.filter(s=>s.id!==id);
  renderTable();
  renderKPIs();
}

function renderKPIs(){
  const totalEmployees = salaries.length;
  const totalPayroll = salaries.reduce((a,s)=>a+s.basic,0);
  const totalDeductions = salaries.reduce((a,s)=>a+s.deductions,0);
  const totalNet = salaries.reduce((a,s)=>a+s.net,0);

  document.getElementById('totalEmployees').innerText = totalEmployees;
  document.getElementById('totalPayroll').innerText = totalPayroll.toFixed(2);
  document.getElementById('totalDeductions').innerText = totalDeductions.toFixed(2);
  document.getElementById('totalNet').innerText = totalNet.toFixed(2);
}

function renderRecent(){
  const recent = document.getElementById('recentEntries');
  recent.innerHTML = salaries.slice(-5).map(s=>`<div>${s.name} - ${s.net.toFixed(2)}</div>`).join('');
}
</script>

</body>
</html>
